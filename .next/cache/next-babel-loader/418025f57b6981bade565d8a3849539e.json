{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport ChartComponent from './base/ChartComponent';\nimport d3 from './utils/d3';\nimport defaultData from './defaultData.json';\nimport AtlasMetadataClient from '@reuters-graphics/graphics-atlas-client';\nvar atlastClient = new AtlasMetadataClient();\n\nvar CountryLockdownIndicatorStrips = /*#__PURE__*/function (_ChartComponent) {\n  _inherits(CountryLockdownIndicatorStrips, _ChartComponent);\n\n  var _super = _createSuper(CountryLockdownIndicatorStrips);\n\n  function CountryLockdownIndicatorStrips() {\n    var _this;\n\n    _classCallCheck(this, CountryLockdownIndicatorStrips);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"defaultProps\", {\n      locale: 'en',\n      // see docs on https://github.com/reuters-graphics/graphics-atlas-client\n      countryISO2: 'IN',\n      countryName: atlastClient.getCountry(countryISO2),\n      stroke: '#aaa',\n      strokeWidth: 1,\n      fill: 'steelblue',\n      height: 200\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"defaultData\", defaultData);\n\n    return _this;\n  }\n\n  _createClass(CountryLockdownIndicatorStrips, [{\n    key: \"draw\",\n    value: function draw() {\n      var data = this.data();\n      var props = this.props();\n      var node = this.selection().node();\n\n      var _node$getBoundingClie = node.getBoundingClientRect(),\n          width = _node$getBoundingClie.width;\n\n      var transition = d3.transition().duration(750);\n      var g = this.selection().appendSelect('svg') // see docs in ./utils/d3.js\n      .attr('width', width).attr('height', props.height).appendSelect('g'); // .attr('transform', `translate(${width / 2 - 60}, 0)`);\n\n      var circles = g.selectAll('circle').data(data, function (d, i) {\n        return i;\n      });\n      circles.style('fill', props.fill).style('stroke', props.stroke);\n      circles.enter().append('circle').style('fill', props.fill).style('stroke', props.stroke).style('stroke-width', props.strokeWidth).attr('cy', props.height / 2).attr('cx', function (d, i) {\n        return data.slice(0, i).reduce(function (a, b) {\n          return a + b;\n        }, 0) + d / 2;\n      }).merge(circles).transition(transition).attr('cx', function (d, i) {\n        return data.slice(0, i).reduce(function (a, b) {\n          return a + b;\n        }, 0) + d / 2;\n      }).attr('r', function (d) {\n        return d / 2;\n      });\n      circles.exit().transition(transition).attr('r', 0).remove();\n      return this;\n    }\n  }]);\n\n  return CountryLockdownIndicatorStrips;\n}(ChartComponent);\n\nconsole.log(defaultData);\nexport default CountryLockdownIndicatorStrips;","map":{"version":3,"sources":["/Users/prasanta/ReutersWork/INTERACTIVES/COVID-APP/chart-module-CountryLockdownIndicatorStrips/src/lib/chart.js"],"names":["ChartComponent","d3","defaultData","AtlasMetadataClient","atlastClient","CountryLockdownIndicatorStrips","locale","countryISO2","countryName","getCountry","stroke","strokeWidth","fill","height","data","props","node","selection","getBoundingClientRect","width","transition","duration","g","appendSelect","attr","circles","selectAll","d","i","style","enter","append","slice","reduce","a","b","merge","exit","remove","console","log"],"mappings":"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","sourcesContent":["import ChartComponent from './base/ChartComponent';\nimport d3 from './utils/d3';\nimport defaultData from './defaultData.json';\n\nimport AtlasMetadataClient from '@reuters-graphics/graphics-atlas-client';\nconst atlastClient = new AtlasMetadataClient();\n\nclass CountryLockdownIndicatorStrips extends ChartComponent {\n  defaultProps = {\n    locale: 'en', // see docs on https://github.com/reuters-graphics/graphics-atlas-client\n    countryISO2: 'IN',\n    countryName: atlastClient.getCountry(countryISO2),\n    stroke: '#aaa',\n    strokeWidth: 1,\n    fill: 'steelblue',\n    height: 200,\n  };\n\n  defaultData = defaultData;\n\n\n\n  draw() {\n    const data = this.data();\n    const props = this.props();\n    const node = this.selection().node();\n\n    const { width } = node.getBoundingClientRect();\n\n    const transition = d3.transition()\n      .duration(750);\n\n    const g = this.selection()\n      .appendSelect('svg') // see docs in ./utils/d3.js\n      .attr('width', width)\n      .attr('height', props.height)\n      .appendSelect('g')\n      // .attr('transform', `translate(${width / 2 - 60}, 0)`);\n\n    const circles = g.selectAll('circle')\n      .data(data, (d, i) => i);\n\n    circles\n      .style('fill', props.fill)\n      .style('stroke', props.stroke);\n\n    circles.enter().append('circle')\n      .style('fill', props.fill)\n      .style('stroke', props.stroke)\n      .style('stroke-width', props.strokeWidth)\n      .attr('cy', props.height / 2)\n      .attr('cx', (d, i) =>\n        data.slice(0, i).reduce((a, b) => a + b, 0) + (d / 2)\n      )\n      .merge(circles)\n      .transition(transition)\n      .attr('cx', (d, i) =>\n        data.slice(0, i).reduce((a, b) => a + b, 0) + (d / 2)\n      )\n      .attr('r', d => d / 2);\n\n    circles.exit()\n      .transition(transition)\n      .attr('r', 0)\n      .remove();\n\n    return this;\n  }\n}\nconsole.log(defaultData);\nexport default CountryLockdownIndicatorStrips;\n"]},"metadata":{},"sourceType":"module"}